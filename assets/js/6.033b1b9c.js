(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{368:function(e,t,a){e.exports=a.p+"assets/img/dragon-ball.97400da0.gif"},369:function(e,t,a){e.exports=a.p+"assets/img/one-piece.c5066dc0.gif"},370:function(e,t,a){e.exports=a.p+"assets/img/merge.4277e726.png"},371:function(e,t,a){e.exports=a.p+"assets/img/rebase.b13347be.png"},415:function(e,t,a){"use strict";a.r(t);var o=a(9),s=Object(o.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("p",[o("RouterLink",{attrs:{to:"/zh/2019/08/15/why-I-like-git-rebase/"}},[e._v("ÁπÅÈ´î‰∏≠Êñá")]),e._v(" | English")],1),e._v(" "),o("p",[e._v("Please take a look at "),o("a",{attrs:{href:"https://git-scm.com/docs/git-rebase",target:"_blank",rel:"noopener noreferrer"}},[e._v("documentation"),o("OutboundLink")],1),e._v(" if you've never used "),o("code",[e._v("git rebase")]),e._v(" before.")]),e._v(" "),o("p",[e._v("I'm going to share the reason or timing I use "),o("code",[e._v("git rebase")]),e._v(" and "),o("code",[e._v("git push --force-with-lease")]),e._v(". I feel like there's still many people don't know there's a useful stuff "),o("code",[e._v("git push --force-with-lease")]),e._v(". In my opinion, we should always use "),o("code",[e._v("git push --force-with-lease")]),e._v(" with "),o("code",[e._v("git rebase")]),e._v(".")]),e._v(" "),o("h2",{attrs:{id:"why-i-like-git-rebase"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#why-i-like-git-rebase"}},[e._v("#")]),e._v(" Why I like "),o("code",[e._v("git rebase")])]),e._v(" "),o("h3",{attrs:{id:"commit-history-is-clear-and-straightforward"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#commit-history-is-clear-and-straightforward"}},[e._v("#")]),e._v(" Commit history is clear and straightforward")]),e._v(" "),o("p",[e._v("Both "),o("code",[e._v("merge")]),e._v(" and "),o("code",[e._v("rebase")]),e._v(" can join two branches together, Let's take a look the differenceÔºö")]),e._v(" "),o("p",[o("code",[e._v("merge")]),e._v(" will put all commits of two branches together and sort them by commit time, It's just like Dragon Ball Fusion:\n"),o("img",{attrs:{src:a(368),alt:"Dragon Ball"}})]),e._v(" "),o("p",[o("code",[e._v("rebase")]),e._v(" don't care about commit time. It keep every commit which comes from the same branch together. It's like the fusion in One Piece:\n"),o("img",{attrs:{src:a(369),alt:"One Piece"}})]),e._v(" "),o("p",[e._v("See the difference? Even though the fusion is completed, I can still recognize each part üëç.")]),e._v(" "),o("h3",{attrs:{id:"the-way-to-solve-conflicts"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#the-way-to-solve-conflicts"}},[e._v("#")]),e._v(" The way to solve conflicts")]),e._v(" "),o("p",[o("code",[e._v("merge")]),e._v(" has to generate a merge commit, maybe it can be "),o("a",{attrs:{href:"https://git-scm.com/docs/git-merge#_fast_forward_merge",target:"_blank",rel:"noopener noreferrer"}},[e._v("fast-forward"),o("OutboundLink")],1),e._v(", but when there're conflicts, you have to solve it and commit your changes.")]),e._v(" "),o("p",[e._v("On the other hand, "),o("code",[e._v("rebase")]),e._v(" won't generate any lengthy commit üëç.")]),e._v(" "),o("p",[o("code",[e._v("rebase")]),e._v(" is actually like rebuilding the base and submit all the commits again. Whenever meeting conflicts, it'll stop to let you solve it. I personally prefer this approach since it's more clear to figure out which changes I want to keep or drop. But it's not really handy when there's a lot of commits and they all meet conflicts.")]),e._v(" "),o("p",[e._v("To be honest, I use them both. Merge commits help me track the merges. I usually use "),o("code",[e._v("rebase")]),e._v(" to solve conflicts in my feature branch and only use "),o("code",[e._v("merge")]),e._v(" when I'm going to merge a feature branch to master.")]),e._v(" "),o("p",[e._v("Take a look at difference, only "),o("code",[e._v("merge")]),e._v(":")]),e._v(" "),o("p",[o("img",{attrs:{src:a(370),alt:"merge history"}})]),e._v(" "),o("p",[o("code",[e._v("rebase")]),e._v(" + "),o("code",[e._v("merge")]),e._v(":")]),e._v(" "),o("p",[o("img",{attrs:{src:a(371),alt:"rebase history"}})]),e._v(" "),o("h3",{attrs:{id:"feel-free-to-edit-commits"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#feel-free-to-edit-commits"}},[e._v("#")]),e._v(" Feel free to edit commits")]),e._v(" "),o("p",[e._v("It's no longer to do with joining branches together, I've mentioned something like "),o("code",[e._v("submit all the commits again")]),e._v(", since it's going to commit again, of course you can edit the commits.")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://git-scm.com/docs/git-rebase#_interactive_mode",target:"_blank",rel:"noopener noreferrer"}},[e._v("git rebase -i"),o("OutboundLink")],1)]),e._v(" "),o("p",[e._v("It'll probably show something like below:")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("pick 30e43f8 docs: update Readme\npick 4103b7e feat: add Z feature\npick b962eeb feat: add A feature\npick f296540 feat: add B feature\npick a49b581 feat: add D feature\npick 0967d97 feat: add E feature\n\n# Rebase dc2a5e0..0967d97 onto dc2a5e0 (6 commands)\n#\n# Commands:\n# p, pick <commit> = use commit\n# r, reword <commit> = use commit, but edit the commit message\n# e, edit <commit> = use commit, but stop for amending\n# s, squash <commit> = use commit, but meld into previous commit\n# f, fixup <commit> = like \"squash\", but discard this commit's log message\n# x, exec <command> = run command (the rest of the line) using shell\n# b, break = stop here (continue rebase later with 'git rebase --continue')\n# d, drop <commit> = remove commit\n# l, label <label> = label current HEAD with a name\n# t, reset <label> = reset HEAD to a label\n# m, merge [-C <commit> | -c <commit>] <label> [# <oneline>]\n# .       create a merge commit using the original merge commit's\n# .       message (or the oneline, if no original merge commit was\n# .       specified). Use -c <commit> to reword the commit message.\n#\n# These lines can be re-ordered; they are executed from top to bottom.\n")])])]),o("p",[e._v("You're able to reorder, edit commit message, remove commit, or even meld some commits into a previous commit, etc. Well, it's pretty handy,")]),e._v(" "),o("h2",{attrs:{id:"git-push-force-with-lease"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#git-push-force-with-lease"}},[e._v("#")]),e._v(" "),o("code",[e._v("git push --force-with-lease")])]),e._v(" "),o("h3",{attrs:{id:"usage"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#usage"}},[e._v("#")]),e._v(" Usage")]),e._v(" "),o("p",[o("code",[e._v("rebase")]),e._v(" is really useful, but it means you change the history. We don't care about that if the branch is just a local branch. But if you have pushed it to the remote repository, you have to run "),o("code",[e._v("git push -f")]),e._v(" which is very dangerous.")]),e._v(" "),o("p",[e._v("Thus, I always use "),o("code",[e._v("git push --force-with-lease")]),e._v(".")]),e._v(" "),o("blockquote",[o("p",[e._v("This option allows you to say that you expect the history you are updating is what you rebased and want to replace. If the remote ref still points at the commit you specified, you can be sure that no other people did anything to the ref.")])]),e._v(" "),o("p",[e._v("If the history isn't what we expected:")]),e._v(" "),o("div",{staticClass:"language-shell extra-class"},[o("pre",{pre:!0,attrs:{class:"language-shell"}},[o("code",[o("span",{pre:!0,attrs:{class:"token function"}},[e._v("git")]),e._v(" push origin master --force-with-lease\nTo github.com:newsbielt703/test-git-push--force-with-lease.git\n "),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v("!")]),e._v(" "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("rejected"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("        master -"),o("span",{pre:!0,attrs:{class:"token operator"}},[e._v(">")]),e._v(" master "),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("(")]),e._v("stale info"),o("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(")")]),e._v("\nerror: failed to push some refs to "),o("span",{pre:!0,attrs:{class:"token string"}},[e._v("'git@github.com:newsbielt703/test-git-push--force-with-lease.git'")]),e._v("\n")])])]),o("h3",{attrs:{id:"bad-things-happened"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#bad-things-happened"}},[e._v("#")]),e._v(" Bad things happened")]),e._v(" "),o("p",[e._v("What if you screw up, maybe you have just run "),o("code",[e._v("git push -f")]),e._v(" and someone lost his/her work? No worries. I found something interesting - "),o("a",{attrs:{href:"https:/github.com/jayphelps/git-blame-someone-else",target:"_blank",rel:"noopener noreferrer"}},[e._v("git-blame-someone-else"),o("OutboundLink")],1),e._v(". Install it and run "),o("code",[e._v('git blame-someone-else "yourteammate <yourteamate@gmail.com>" <commit>')]),e._v(". See what happen below, it's no longer your fault:")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("commit 70f45487814217d0226f7eae8d0caa0734775353 (HEAD -> master, origin/master)\nAuthor: yourteammate <yourteammate@gmail.com>\nDate:   Thu Aug 15 20:57:00 2019 +0800\n\n    feat: add E feature\n\ncommit a202ae4447adebe5bfe3e73e678665a8bfdf6f0f\nAuthor: yourteammate <yourteammate@gmail.com>\nDate:   Thu Aug 15 20:56:43 2019 +0800\n\n    feat: add D feature\n\ncommit be908366c98052077d893dedc28baf92dffacb71\nAuthor: yourteammate <yourteammate@gmail.com>\nDate:   Thu Aug 15 20:41:02 2019 +0800\n\n    feat: add B feature\n\ncommit 10e6a57d3061abc55798f815a790bba6307039e5\nAuthor: yourteammate <yourteammate@gmail.com>\nDate:   Thu Aug 15 20:40:47 2019 +0800\n\n    feat: add A feature\n\ncommit 4103b7ed93993635b2b7ac35ec2ceab79a7d6446\nAuthor: Billyyyyy3320 <newsbielt703@gmail.com>\nDate:   Thu Aug 15 20:52:04 2019 +0800\n\n    feat: add Z feature\n\ncommit 30e43f858ef692b26380cceda5a84ac8a6c6e3d5\nAuthor: Billyyyyy3320 <newsbielt703@gmail.com>\nDate:   Thu Aug 15 20:47:59 2019 +0800\n\n    docs: update Readme\n\ncommit dc2a5e0c60991925dd7fa4858ff367534000b380\nAuthor: Billyyyyy3320 <newsbielt703@gmail.com>\nDate:   Thu Aug 15 20:37:19 2019 +0800\n\n    feat: init\n")])])]),o("p",[e._v("It's just joking, please don't do that!"),o("br"),e._v("\nIt's just joking, please don't do that!"),o("br"),e._v("\nIt's just joking, please don't do that!")]),e._v(" "),o("blockquote",[o("p",[e._v("This changes not only who authored the commit but the listed commiter as well. It also is something I wrote as a joke, so please don't run this against your production repo and complain if this script deletes everything.")])]),e._v(" "),o("hr"),e._v(" "),o("p",[e._v("End.")])])}),[],!1,null,null,null);t.default=s.exports}}]);